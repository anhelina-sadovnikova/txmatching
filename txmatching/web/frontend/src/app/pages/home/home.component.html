<app-header [user]="user"></app-header>

<section class="home">
  <div class="home-header">
    <h1>
      Matchings
      <app-count *ngIf="!loading">{{matchings.length}}</app-count>
    </h1>
    <div *ngIf="configuration" class="config">
      <button (click)="toggleConfiguration()" [class.opened]="configOpened">
        <ng-container *ngIf="!configOpened">
          Change settings
          <fa-icon [icon]="configIcon"></fa-icon>
        </ng-container>
        <ng-container *ngIf="configOpened">
          Close settings
          <fa-icon [icon]="closeIcon"></fa-icon>
        </ng-container>
      </button>
    </div>
  </div>

  <div *ngIf="configuration" class="home-config">
    <app-configuration (configSubmitted)="calculate($event)"
                       [configuration]="configuration"
                       [isOpened]="configOpened"></app-configuration>
  </div>


  <div class="home-content">
    <h3 *ngIf="!loading && matchings.length === 0">No matchings were found.<br>Try to change settings and recalculate.</h3>
    <app-matchings-explorer *ngIf="matchings.length > 0"
                            [matchings]="matchings"></app-matchings-explorer>
  </div>


</section>

<app-alert></app-alert>
<app-loading [show]="loading"></app-loading>
